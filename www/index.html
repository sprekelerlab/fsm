<!doctype html>
<html lang="de"><head>
	<title>Automaten-Designer</title>
  <meta charset="utf-8">
	<style>

body {
	text-align: center;
	background: #DFDFDF;
	margin: 0 30px 100px 30px;
	font: 14px/18px 'Lucida Grande', 'Segoe UI', sans-serif;
}

h1 {
	font: bold 32px Georgia, serif;
	margin-bottom: 10px;
}

h1 label {
	margin-right: 8px;
}

h1 input {
	font: inherit;
	font-weight: normal;
	font-style: normal;
	padding: 2px 6px;
	border: 1px solid #bbb;
	border-radius: 6px;
}
}

canvas {
	display: block;
	max-width: 800px;
	background: white;
	border-radius: 20px;
	-moz-border-radius: 20px;
	margin: 10px auto;
}

a {
	color: black;
}

div {
	margin: 30px auto;
	text-align: left;
	max-width: 800px;
}

.error {
	display: block;
	color: red;
	font-size: 28px;
	line-height: 30px;
	padding: 30px;
}

p {
	margin: 30px 0;
	line-height: 20px;
}

.center {
	text-align: center;
}

textarea {
	display: none;
	width: 75%;
	height: 400px;
	margin: 0 auto;
}

.versions {
	margin: 20px 0;
}

.version-controls {
	display: flex;
	flex-wrap: wrap;
	gap: 10px;
	align-items: center;
	margin: 0;
	max-width: none;
}

.versions-list {
	list-style: none;
	padding: 0;
	margin: 15px 0;
}

.version-item {
	display: flex;
	gap: 10px;
	align-items: center;
	padding: 6px 0;
	border-bottom: 1px solid #ccc;
}

.version-meta {
	flex: 1;
}

.versions-empty {
	color: #555;
	font-style: italic;
}

.versions-note {
	color: #555;
	font-size: 12px;
	margin-top: 10px;
}

  </style>
	<script src="fsm.js"></script>
	<script>

/*
 * base64.js - Base64 encoding and decoding functions
 *
 * See: http://developer.mozilla.org/en/docs/DOM:window.btoa
 *      http://developer.mozilla.org/en/docs/DOM:window.atob
 *
 * Copyright (c) 2007, David Lindquist <david.lindquist@gmail.com>
 * Released under the MIT license
 */

if (typeof btoa == 'undefined') {
    function btoa(str) {
        var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';
        var encoded = [];
        var c = 0;
        while (c < str.length) {
            var b0 = str.charCodeAt(c++);
            var b1 = str.charCodeAt(c++);
            var b2 = str.charCodeAt(c++);
            var buf = (b0 << 16) + ((b1 || 0) << 8) + (b2 || 0);
            var i0 = (buf & (63 << 18)) >> 18;
            var i1 = (buf & (63 << 12)) >> 12;
            var i2 = isNaN(b1) ? 64 : (buf & (63 << 6)) >> 6;
            var i3 = isNaN(b2) ? 64 : (buf & 63);
            encoded[encoded.length] = chars.charAt(i0);
            encoded[encoded.length] = chars.charAt(i1);
            encoded[encoded.length] = chars.charAt(i2);
            encoded[encoded.length] = chars.charAt(i3);
        }
        return encoded.join('');
    }
}

	</script>
</head><body>
	<h1><label for="current-name">Automat:</label><input id="current-name" type="text" aria-label="Automatenname"></h1>
	<canvas id="canvas" width="800" height="600">
		<span class="error">Your browser does not support<br>the HTML5 &lt;canvas&gt; element</span>
	</canvas>
	<div>
		<p class="center">Exportieren als: <a href="javascript:saveAsPNG()">PNG</a> | <a href="javascript:saveAsSVG()">SVG</a> | <a href="javascript:saveAsLaTeX()">LaTeX</a></p>
		<section class="versions">
			<h2>Gespeicherte Automaten</h2>
			<div class="version-controls">
				<button id="new-automaton" type="button">Neuer Automat</button>
			</div>
			<ul id="versions-list" class="versions-list"></ul>
		</section>
		<textarea id="output"></textarea>
		<p>Dieses Automaten-Tool ist eine Erweiterung des ISIS-Tool zum Zeichnen von DFAs und NFAs, mit folgenden zusätzlichen Optionen zum Zeichnen von Kellerautomaten und Turingmaschinen:</p>
		<ul>
			<li><b>Übergangspfeil mit mehreren Übergängen beschriften:</b> Shift + Enter um Zeilenumbruch einzufügen</li>
			<li><b>Blank Symbol einfügen:</b> Schreiben Sie \blank (□), um das Blank-Symbol einzufügen</li>
			<li><b>Griechische Buchstaben:</b> z.B. \lambda (λ)</li>
		</ul>
		<p>Hier nochmal die übrige Kurzanleitung zum Erstellen des Automaten:</p>
		<ul>
			<li><b>Zustand erstellen:</b> Doppelklick</li>
			<li><b>Zustand in Endzustand oder Nicht-Endzustand ändern:</b> Doppelklick auf Zustand</li>
			<li><b>Zustand benennen:</b> in Zustand klicken und "z_i" eingeben für Zustand zᵢ</li>
			<li><b>Startpfeil hinzufügen:</b> Umschalttaste + klicken und auf gewünschten Zustand ziehen</li>
			<li><b>Übergang hinzufügen:</b> Umschalttaste + auf Zustand klicken und auf Zielzustand ziehen</li>
			<li><b>Übergang beschriften:</b> auf Pfeil klicken und gewünschten Text eingeben (z.B. 0 oder 1)</li>
			<li><b>Übergangspfeil mit mehreren Übergängen beschriften:</b> Shift + Enter um Zeilenumbruch einzufügen</li>
			<li><b>Löschen:</b> auf Pfeil/Zustand klicken und "entf"/"delete"/"backspace"/"fn+delete" klicken</li>
			<li><b>Blank Symbol einfügen:</b> Schreiben Sie \blank (□), um das Blank-Symbol einzufügen</li>
			<li><b>Griechische Buchstaben:</b> z.B. \lambda (λ)</li>
		</ul>
	</div>
</body></html>
